<?xml version="1.0" encoding="UTF-8"?>
<Plan>
  <ActionPatterns>
    <ActionPattern name ="AP-ShootBack">
      <action name ="TurnToIncomingDamageLocation"></action>
      <action name ="ShootEnemiesInSight"></action>
    </ActionPattern>
    <ActionPattern name ="AP-ShootEnemiesInSight">
      <action name ="ShootEnemiesInSight"></action>
    </ActionPattern>
    <ActionPattern name ="AP-MoveAround">
      <action name ="TurnTowardsNextPathNode"></action>
      <action name ="MoveToNextNode"></action>
    </ActionPattern>
    <ActionPattern name ="AP-GrabFlag">
      <action name ="GrabEnemyTeamFlag"></action>
    </ActionPattern>
    <ActionPattern name ="AP-Return">
      <action name ="ReturnToBase"></action>
    </ActionPattern>
  </ActionPatterns>  
  <CompetenceElements>
    <CompetenceElement name ="CE-Test" triggers ="AP-ShootBack">
      <Conditions>
        <Condition name="IsDamaged" value ="1" comperator="bool"></Condition>
      </Conditions>
    </CompetenceElement>
    <CompetenceElement name ="CE-Shoot" triggers ="AP-ShootEnemiesInSight">
      <Conditions>
      </Conditions>
    </CompetenceElement>
  </CompetenceElements>
  <Competences>
    <Competence name="C-Shoot">
      <Goals>
        <Goal name="AllTargetsAreDead" value ="1" comperator="bool"></Goal>
      </Goals>
      <CompetenceElements>
        <CompetenceElement name="CE-Shoot"></CompetenceElement>
      </CompetenceElements>
    </Competence>
  </Competences>
  <DriveElements>
    <DriveElement name="DE-ShootBack" triggers ="AP-ShootBack" checkTime ="0">
      <Conditions>
        <Condition name="IsDamaged" value ="1" comperator="bool"></Condition>
      </Conditions>
    </DriveElement>
    <DriveElement name="DE-ShootEnemies" triggers ="C-Shoot" checkTime ="0">
      <Conditions>
        <Condition name ="HasFlag" value ="0" comperator ="bool"></Condition>
        <Condition name ="EnemiesSpotted" value ="1" comperator ="bool"></Condition>
      </Conditions>
    </DriveElement>
    <DriveElement name="DE-MoveAround" triggers ="AP-MoveAround" checkTime ="0.1">
      <Conditions>
          <Condition name ="DoesPathExist" value ="1" comperator ="bool"></Condition>
        <Condition name="IsDamaged" value ="0" comperator="bool"></Condition>
      </Conditions>
    </DriveElement>
    <DriveElement name="DE-GrabFlag" triggers ="AP-GrabFlag" checkTime ="0.1">
      <Conditions>
        <Condition name ="HasFlag" value ="0" comperator ="bool"></Condition>
        <Condition name ="EnemyTeamFlagInSight" value ="1" comperator ="bool"></Condition>
      </Conditions>
    </DriveElement>
    <DriveElement name="DE-ScoreFlag" triggers ="AP-Return" checkTime ="1">
      <Conditions>
        <Condition name ="HasFlag" value ="1" comperator ="bool"></Condition>
      </Conditions>
    </DriveElement>
  </DriveElements>
  <Drives>
    <Drive name="D-ScoreFlag">
      <Conditions>
      </Conditions>
      <DriveElements>
        <DriveElement name="DE-GrabFlag"></DriveElement>
        <DriveElement name="DE-ScoreFlag"></DriveElement>
        <DriveElement name="DE-MoveAround"></DriveElement>
      </DriveElements>
    </Drive>
    <Drive name="D-KillEnemies">
      <Conditions>
      </Conditions>
      <DriveElements>
        <DriveElement name="DE-ShootBack"></DriveElement>
        <DriveElement name="DE-ShootEnemies"></DriveElement>
      </DriveElements>
    </Drive>
  </Drives>
</Plan>
